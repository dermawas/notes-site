backend:
  name: github
  repo: dermawas/notes-site
  branch: main
  base_url: https://ffl-oauth.vercel.app
  auth_endpoint: /api/auth

site_url: https://flowformlab.com
logo_url: /assets/images/logo-ffl-spark.svg
publish_mode: editorial_workflow

media_folder: "assets/uploads"
public_folder: "/assets/uploads"

collections:
  # -------------------------
  # POSTS (folder-based)
  # -------------------------
  - name: "posts"
    label: "Posts"
    folder: "_posts"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    preview_path: "{{year}}/{{month}}/{{day}}/{{slug}}/"
    fields:
      # Basics
      - { label: "Title", name: "title", widget: "string" }
      - label: "Publish date"
        name: "date"
        widget: "datetime"
        format: "YYYY-MM-DD HH:mm:ss Z"   # Jekyll-friendly with timezone
      - { label: "Categories", name: "categories", widget: "list", default: ["notes"] }
      - { label: "Tags", name: "tags", widget: "list", required: false }

      # Editorial / SEO
      - label: "TL;DR / Excerpt"
        name: "excerpt"
        widget: "text"
        required: false
        hint: "1–2 sentences. Shown on lists and in metadata."
      - label: "SEO Description"
        name: "description"
        widget: "text"
        required: false
        hint: "Optional. If empty, engines may fall back to excerpt."

      # Hero / header (Minimal Mistakes)
      - label: "Hero / Header"
        name: "header"
        widget: "object"
        collapsed: true
        required: false
        fields:
          - { label: "Featured image", name: "overlay_image", widget: "image", required: false }
          - { label: "Image caption (Markdown OK)", name: "caption", widget: "string", required: false }
          - label: "Overlay filter (0–1)"
            name: "overlay_filter"
            widget: "number"
            value_type: "float"
            min: 0
            max: 1
            step: 0.05
            required: false

      # Reading UX
      - label: "Table of contents"
        name: "toc"
        widget: "boolean"
        default: false
        required: false
      - { label: "TOC label", name: "toc_label", widget: "string", required: false }

      # Content
      - { label: "Body", name: "body", widget: "markdown" }

      # Advanced (rarely needed)
      - label: "Advanced"
        name: "advanced"
        widget: "object"
        collapsed: true
        required: false
        fields:
          - { label: "Layout", name: "layout", widget: "string", default: "single", required: false }
          - { label: "Author profile (sidebar)", name: "author_profile", widget: "boolean", default: false, required: false }
          - { label: "CSS classes", name: "classes", widget: "string", required: false }
          - { label: "Permalink (optional)", name: "permalink", widget: "string", required: false }
          - label: "Force unpublish (published:false)"
            name: "published"
            widget: "boolean"
            default: true
            required: false

  # -------------------------
  # DRAFTS (folder-based)
  # -------------------------
  - name: "drafts"
    label: "Drafts"
    folder: "_drafts"
    create: true
    slug: "{{slug}}"
    fields:
      # Keep it simple for drafts; date comes when publishing to _posts
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Description", name: "description", widget: "text", required: false }
      - { label: "Categories", name: "categories", widget: "list", default: ["automation","ai","notebook"] }
      - { label: "Tags", name: "tags", widget: "list", required: false, default: ["n8n","ollama","decap cms","jekyll","flowformlab"] }
      - { label: "Body", name: "body", widget: "markdown" }

  # -------------------------
  # PAGES (file-based: About, Contact)
  # -------------------------
  - name: "pages"
    label: "Pages"
    files:
      - label: "About"
        name: "about"
        file: "about.md"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Layout", name: "layout", widget: "string", default: "single", required: false }
          - { label: "Permalink", name: "permalink", widget: "string", default: "/about/" }
          - { label: "SEO Description", name: "description", widget: "text", required: false }
          - label: "Hero / Header"
            name: "header"
            widget: "object"
            collapsed: true
            required: false
            fields:
              - { label: "Featured image", name: "overlay_image", widget: "image", required: false }
              - { label: "Image caption (Markdown OK)", name: "caption", widget: "string", required: false }
              - label: "Overlay filter (0–1)"
                name: "overlay_filter"
                widget: "number"
                value_type: "float"
                min: 0
                max: 1
                step: 0.05
                required: false
          - { label: "Table of contents", name: "toc", widget: "boolean", default: false, required: false }
          - { label: "Body", name: "body", widget: "markdown" }

      - label: "Contact"
        name: "contact"
        file: "contact.md"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Layout", name: "layout", widget: "string", default: "single", required: false }
          - { label: "Permalink", name: "permalink", widget: "string", default: "/contact/" }
          - { label: "SEO Description", name: "description", widget: "text", required: false }
          - label: "Hero / Header"
            name: "header"
            widget: "object"
            collapsed: true
            required: false
            fields:
              - { label: "Featured image", name: "overlay_image", widget: "image", required: false }
              - { label: "Image caption (Markdown OK)", name: "caption", widget: "string", required: false }
              - label: "Overlay filter (0–1)"
                name: "overlay_filter"
                widget: "number"
                value_type: "float"
                min: 0
                max: 1
                step: 0.05
                required: false
          - { label: "Table of contents", name: "toc", widget: "boolean", default: false, required: false }
          - { label: "Body", name: "body", widget: "markdown" }
